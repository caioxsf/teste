<script src="/js/cadastrar.js"></script>
<script src="/js/excluir.js"></script>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

<% if(typeof nomeEdicao == 'undefined') { %>
    <form style="display: flex; justify-content: center; margin-top: 150px; flex-direction: column; gap: 5px; width: 350px; margin: 0 auto;">

        <label for="">nome</label>
        <input type="text" id="nome" name="nome">
    
        <label for="">email</label>
        <input type="text" id="email" name="email">
    
        <button type="button" style="margin-top: 20px;" id="btnCadastrar">Cadastrar</button>
    
    </form>
    
    
    <table class="table">
        <thead>
            <tr>
                <th>Nome</th>
                <th>Email</th>
            </tr>
        </thead>
    
        <tbody>
            
                <% for(let i=0;i<lista.length;i++) { %>
                    <tr>
                        <td><%= lista[i].nome %></td>
                        <td><%= lista[i].email %></td>
                        <td>
                            <button type="button" data-id="<%= lista[i].id %>" id="excluir">Excluir</button>
                            <a href="/editar">Editar</a>
                        </td>
                    </tr>
               <% } %>
            
        </tbody>
    </table>

<% }  else { %> 


    <input type="text" hidden value="<%= lista.id %>">
    <form style="display: flex; justify-content: center; margin-top: 150px; flex-direction: column; gap: 5px; width: 350px; margin: 0 auto;">

<label for="">nome</label>
<input type="text" id="nome" name="nome">

<label for="">email</label>
<input type="text" id="email" name="email">

<button type="button" style="margin-top: 20px;" id="btnCadastrar">Cadastrar</button>

</form>


<table class="table">
<thead>
    <tr>
        <th>Nome</th>
        <th>Email</th>
    </tr>
</thead>

<tbody>
    
        <% for(let i=0;i<lista.length;i++) { %>
            <tr>
                <td><%= lista[i].nome %></td>
                <td><%= lista[i].email %></td>
                <td>
                    <button type="button" data-id="<%= lista[i].id %>" id="excluir">Excluir</button>
                </td>
            </tr>
       <% } %>
    
</tbody>
</table>

<% }%>